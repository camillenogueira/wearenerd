import static org.junit.Assert.assertEquals;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Random;

import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.chrome.ChromeDriver;

import io.github.bonigarcia.wdm.WebDriverManager;

public class NewCustomerFunctionality {

	
	
	@BeforeAll
	public static void beforeAll() {
		//TVN - configuracao do browser para utilizar a mesma versao do webdriver
		WebDriverManager.chromedriver().setup();
		
		//Inicializando o webdriver para usar o Chrome
		TestData.driver = new ChromeDriver();
	}
	
	@AfterAll
	public static void afterAll() {
		TestData.driver.quit();
	}
	
	
	
	@Test
	public void tc004() throws InterruptedException, ParseException {
		
		TestData.login();
		
		//Click no link New Customer
		TestData.driver.findElement(By.linkText("New Customer")).click();
		TestData.driver.get("https://demo.guru99.com/v4/manager/addcustomerpage.php");
		
		//Enter Customer Name
		TestData.driver.findElement(By.name("name")).sendKeys(TestData.customerName);
		
		//Select Gender
		if (TestData.gender.equals("male")) {
			TestData.driver.findElement(By.xpath("/html/body/table/tbody/tr/td/table/tbody/tr[5]/td[2]/input[1]")).click();
			//System.out.println("Entrou aqui..");
			
			
		} else {
			TestData.driver.findElement(By.cssSelector("body > table > tbody > tr > td > table > tbody > tr:nth-child(5) > td:nth-child(2) > input[type=radio]:nth-child(2)")).click();
			//System.out.println("Entrou no else..");
		}
		
		
		//Enter DOB
		TestData.driver.findElement(By.id("dob")).sendKeys(TestData.dob);
		
		//Enter Address
		TestData.driver.findElement(By.name("addr")).sendKeys(TestData.address);
		
		//Enter City
		TestData.driver.findElement(By.name("city")).sendKeys(TestData.city);
		
		//Enter State
		TestData.driver.findElement(By.name("state")).sendKeys(TestData.state);
		
		//Enter PIN
		TestData.driver.findElement(By.name("pinno")).sendKeys(TestData.pin);
		
		//Enter Mobile Number
		TestData.driver.findElement(By.name("telephoneno")).sendKeys(TestData.mobilen);
		
		//Enter Email
		TestData.driver.findElement(By.name("emailid")).sendKeys(TestData.email);
		
		//Enter Password
		TestData.driver.findElement(By.name("password")).sendKeys(TestData.password);
		
		//Click on Submit
		TestData.driver.findElement(By.name("sub")).click();
		
		
		///Test Results
		//Verificar se a mensagem Customer Registered Successfully!!! aparece
		String expectedResults = "Customer Registered Successfully!!!";
		String actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[1]/td/p")).getText();
		
		assertEquals(expectedResults,actualResults);
		
		//Verificar Customer Name
		actualResults = TestData.driver.findElement(By.cssSelector("#customer > tbody > tr:nth-child(5) > td:nth-child(2)")).getText();
		assertEquals(TestData.customerName,actualResults);
		
		//Verificar Address
		actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[8]/td[2]")).getText();
		assertEquals(TestData.address, actualResults);

		//Verificar City
		actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[9]/td[2]")).getText();
		assertEquals(TestData.city,actualResults);
		
		//Verificar State
		actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[10]/td[2]")).getText();
		assertEquals(TestData.state,actualResults);
		
		//Verificar Gender
		actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[6]/td[2]")).getText();
		assertEquals(TestData.gender,actualResults);
		
		//Verificar o DOB
		actualResults = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[7]/td[2]")).getText();
		assertEquals(TestData.output, actualResults);
		
		String customerID = TestData.driver.findElement(By.xpath("//*[@id=\"customer\"]/tbody/tr[4]/td[2]")).getText();
	}
	
	@Test
	public void tc005() {
		
	}
	
}
